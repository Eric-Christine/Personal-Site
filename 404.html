<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>404 | Eric Christine</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <style>
    :root {
      --bg-top: #05020c;
      --bg-bottom: #120921;
      --frame: #fc03ba;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Courier New", monospace;
      background: radial-gradient(circle at 50% 50%, var(--bg-bottom) 0%, var(--bg-top) 100%);
      color: #fff;
    }

    body::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to bottom,
          rgba(255, 255, 255, 0),
          rgba(255, 255, 255, 0) 50%,
          rgba(0, 0, 0, 0.15) 50%,
          rgba(0, 0, 0, 0.15));
      background-size: 100% 4px;
      pointer-events: none;
      z-index: 1000;
    }

    .not-found {
      width: min(96vw, 1280px);
      margin: 0 auto;
      padding-top: 20px;
      color: #00d4ff;
      text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
    }

    .not-found h1 {
      margin: 0 0 6px 0;
      font-size: clamp(1.7rem, 3vw, 2.4rem);
      color: #ff00ff;
      text-shadow: 0 0 15px rgba(255, 0, 255, 0.6);
    }

    .not-found p {
      margin: 0;
      font-size: clamp(1rem, 2vw, 1.2rem);
    }

    .not-found a {
      color: #fc03ba;
      font-weight: bold;
      text-decoration: none;
      background-color: rgba(252, 3, 186, 0.2);
      padding: 4px 8px;
      border-radius: 4px;
      transition: all 0.2s;
      border: 1px solid #fc03ba;
    }

    .not-found a:hover {
      background-color: #fc03ba;
      color: #fff;
      box-shadow: 0 0 15px #fc03ba;
    }

    .game-shell {
      min-height: auto;
      padding-top: 10px;
      padding-bottom: 20px;
      display: grid;
      place-items: center;
    }

    canvas {
      width: min(96vw, 1280px);
      max-width: 100%;
      height: auto;
      border: 4px solid var(--frame);
      border-radius: 8px;
      box-shadow: 0 0 40px rgba(252, 3, 186, 0.5), 0 0 100px rgba(0, 212, 255, 0.3) inset;
      background-color: #000;
      image-rendering: pixelated;
      position: relative;
    }

    /* Mobile Doodle Jump Styles */
    #mobile-game-container {
      display: none;
      /* Hidden by default */
      position: relative;
      width: 100vw;
      height: 100svh;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle at 50% 50%, var(--bg-bottom) 0%, var(--bg-top) 100%);
    }

    #mobile-game-container::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to bottom,
          rgba(255, 255, 255, 0),
          rgba(255, 255, 255, 0) 50%,
          rgba(0, 0, 0, 0.15) 50%,
          rgba(0, 0, 0, 0.15));
      background-size: 100% 4px;
      pointer-events: none;
      z-index: 10;
    }

    #mobile-game-container canvas {
      width: 100%;
      height: 100%;
      max-width: 600px;
      background-color: transparent;
      border: none;
      box-shadow: none;
      border-radius: 0;
    }

    #ui-layer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 20;
    }

    .overlay {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(5, 2, 12, 0.85);
      width: 100%;
      height: 100%;
      pointer-events: auto;
      text-align: center;
      padding: 20px;
    }

    .overlay.active {
      display: flex;
    }

    .overlay h1 {
      font-size: clamp(2rem, 8vw, 4rem);
      color: #ffffff;
      text-shadow: 0 0 20px #00d4ff;
      margin-bottom: 10px;
      letter-spacing: 2px;
    }

    .overlay .subtitle {
      font-size: clamp(1.2rem, 4vw, 2rem);
      color: #ff00ff;
      margin-bottom: 40px;
    }

    .controls-info {
      margin-bottom: 40px;
      color: rgba(255, 255, 255, 0.7);
      font-size: 1rem;
      line-height: 1.5;
    }

    .controls-info strong {
      color: #00d4ff;
    }

    .overlay button {
      background: rgba(252, 3, 186, 0.2);
      color: #fc03ba;
      border: 2px solid #fc03ba;
      padding: 15px 30px;
      font-family: "Courier New", monospace;
      font-size: 1.2rem;
      font-weight: bold;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
      text-shadow: 0 0 5px #fc03ba;
      box-shadow: 0 0 10px rgba(252, 3, 186, 0.3);
    }

    .overlay button:hover,
    .overlay button:active {
      background: #fc03ba;
      color: #fff;
      box-shadow: 0 0 20px #fc03ba;
      transform: scale(1.05);
    }

    #hud {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(10, 6, 26, 0.7);
      padding: 10px 15px;
      border-radius: 8px;
      border: 1px solid rgba(0, 212, 255, 0.3);
      pointer-events: none;
    }

    #hud.hidden {
      display: none !important;
    }

    .score-display {
      color: #00d4ff;
      font-size: 1.2rem;
      font-weight: bold;
    }

    #mobile-controls {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 25svh;
      display: flex;
      justify-content: space-between;
      padding: 10px;
      pointer-events: none;
    }

    #mobile-controls.hidden {
      display: none !important;
    }

    .touch-zone {
      width: 45%;
      height: 100%;
      background: rgba(0, 212, 255, 0.1);
      border: 2px solid rgba(0, 212, 255, 0.3);
      border-radius: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      font-weight: bold;
      color: rgba(255, 255, 255, 0.5);
      pointer-events: auto;
      user-select: none;
      touch-action: none;
      transition: background 0.1s, border-color 0.1s;
    }

    .touch-zone:active {
      background: rgba(0, 212, 255, 0.3);
      border-color: rgba(0, 212, 255, 0.8);
      color: rgba(255, 255, 255, 0.9);
    }
  </style>
</head>

<body>
  <!-- Desktop Content (Default) -->
  <div id="desktop-content">
    <section class="not-found">
      <h1>404: CONNECTION LOST</h1>
      <p>
        Signal terminated. Run a boot-sequence subroutine in CYBER SPRINT.
        <br /><br />
        <a href="/">REBOOT SYSTEM</a>
      </p>
    </section>
    <main class="game-shell">
      <canvas id="desktop-game" width="960" height="540" aria-label="Skyline Sprint game canvas"></canvas>
    </main>
  </div>

  <!-- Mobile Content -->
  <div id="mobile-game-container">
    <canvas id="game"></canvas>

    <div id="ui-layer">
      <div id="start-screen" class="overlay active">
        <h1>SKYLINE JUMP</h1>
        <p class="subtitle">NEON ASCENT</p>
        <div class="controls-info">
          <p><strong>Tilt</strong> device</p>
          <p>or tap <strong>L/R</strong> sides</p>
        </div>
        <button id="start-btn">TAP TO INITIALIZE</button>
      </div>

      <div id="game-over-screen" class="overlay">
        <h1>SIGNAL LOST</h1>
        <p>FINAL ALTITUDE: <span id="final-score">0</span></p>
        <button id="restart-btn">REBOOT SYSTEM</button>
      </div>

      <div id="hud" class="hidden">
        <div class="score-display">ALTITUDE: <span id="score">0</span></div>
      </div>

      <div id="mobile-controls" class="hidden">
        <div id="btn-left" class="touch-zone"><span>&#9664;</span> L</div>
        <div id="btn-right" class="touch-zone">R <span>&#9654;</span></div>
      </div>
    </div>
  </div>

  <script>
    // Environment Check
    const isMobile = window.innerWidth <= 768 || navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i);

    if (isMobile) {
      document.getElementById('desktop-content').style.display = 'none';
      document.getElementById('mobile-game-container').style.display = 'flex';

      const script = document.createElement('script');
      script.src = '/games/mobile-doodle-jump.js';
      document.body.appendChild(script);
    } else {
      // Ensure the old script selects the renamed desktop canvas. We need to alias it or rename it.
      // Skyline Sprint expects element "game". Since id="game" is taken by mobile, we rename the desktop string literal if we could, 
      // but since we want to avoid breaking skyline-sprint.js trivially without editing it:
      document.getElementById('game').id = 'mobile-game-hidden';
      document.getElementById('desktop-game').id = 'game'; // Steal the ID so skyline-sprint works out of the box

      const script = document.createElement('script');
      script.src = '/games/skyline-sprint.js';
      document.body.appendChild(script);
    }
  </script>
</body>

</html>
